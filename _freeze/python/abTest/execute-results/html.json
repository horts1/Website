{
  "hash": "7174f98e115735240e240f7f6cbd8ec3",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Shady Business: Testing the Power of Dark mode\"\nformat:\n  html:\n    code-fold: true\njupyter: python3\n---\n\n\n## Objective\n\nThis A/B testing experiemnt aims to analyze the impact of website background color on user engagement and conversion rates. Specifically, I compare a white background (Group A, control group) with a black background (Group B, treatment group) to determine whether the change in design improves user interaction and the liklihood of conversions\n\n## Dataset Overview\n\nThe dataset used for this was found on [Kaggle](https://www.kaggle.com/datasets/adarsh0806/ab-testing-practice/data). This is a synthetic dataset generated using random sampling techniques from the Python NumPy package. It simulates user activity on an imaginery retail website operating across different locations in the United Kingdom.\n\n## Experiemental Design\n\n- Control Group (A - White Background): Represents the default website setting.\n- Treament Group (B - Black Blackground): Represents the newly tested setting.\n\nResearch Question: *Does changing the website background color influence user engangement and conversion rates*\n\n## Key Variables in the Dataset\n\n- User ID: Unique identifer for each user\n- Group: Indicator whether the user was in Group A (White Background) or Group B (Black Background)\n- Page Views: Number of pages viewed during the user's session\n- Time Spend (seconds): The total duartion the suer spent on the website\n- Conversion: Whether the user completed a desired action (e.g. purchase, signup, etc.) (Yes/No)\n- Device: Type of device used (e.g. Mobile, Desktop)\n- Location: The country in the UK where the user is based \n\n## Statistical Methods Used\n\nTo evaluate the impact of the background color change, I used: \n\n- T-Test to compare the average time spent on the website between the tewo groups.\n- Chi-Square Test  to analyze differences in conversion rates between the groups. \n\n## Significance of the Study\n\nA/B test is a crucial tool in user experience (UX) optimizatino and digital marketing. Findings from analysis such as this could help business make data-driven design decisions that enhance user engagement and improve conversion rates. \n\n::: {#0b990dcc .cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport os\nos.getcwd()\ndf = pd.read_csv(\n    'c:\\\\Users\\\\HoraceTsai\\\\Documents\\\\data\\\\ab_testing.csv'\n)\ndf.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=15}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>User ID</th>\n      <th>Group</th>\n      <th>Page Views</th>\n      <th>Time Spent</th>\n      <th>Conversion</th>\n      <th>Device</th>\n      <th>Location</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>14292</td>\n      <td>B</td>\n      <td>3</td>\n      <td>424</td>\n      <td>No</td>\n      <td>Mobile</td>\n      <td>Northern Ireland</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>11682</td>\n      <td>A</td>\n      <td>9</td>\n      <td>342</td>\n      <td>No</td>\n      <td>Mobile</td>\n      <td>Scotland</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>19825</td>\n      <td>A</td>\n      <td>2</td>\n      <td>396</td>\n      <td>No</td>\n      <td>Desktop</td>\n      <td>Northern Ireland</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>16080</td>\n      <td>B</td>\n      <td>4</td>\n      <td>318</td>\n      <td>No</td>\n      <td>Desktop</td>\n      <td>Wales</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>18851</td>\n      <td>A</td>\n      <td>1</td>\n      <td>338</td>\n      <td>Yes</td>\n      <td>Desktop</td>\n      <td>Scotland</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n## Methodology and Analysis\n\nTo help us understand whether a black background (Group B) leads to better user engagement and conversions ocmpared to a white background (Group A), the following analysis was performed: \n\n### Exploratory Data Analysis (EDA)\n\nBefore conducting any statistical test, I explored the dataset to understand its structure and key distributions:\n\n- Summary statistics were calculated for **time spent** on the website accross both groups\n- boxplots and histograms were used to visualize the distribution of time spent\n- Bar charts were created to compare conversion rates between groups\n\n::: {#37346dba .cell execution_count=2}\n``` {.python .cell-code}\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport scipy.stats as stats\n\nsummary_stats = df.groupby(\"Group\")[\"Time Spent\"].describe()\nsummary_stats\n\n#plot \nplt.figure(figsize=(10,6))\nsns.boxplot(\n    x = \"Group\",\n    y = \"Time Spent\",\n    data = df,\n    order = [\"A\", \"B\"],\n    palette = \"Accent\"\n)\nplt.title(\"Distribution of Time Spent by Group\")\nplt.xlabel(\"Group\")\nplt.ylabel(\"Time Spent (seconds)\")\nplt.grid(False)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](abTest_files/figure-html/cell-3-output-1.png){width=816 height=523}\n:::\n:::\n\n\n::: {#dd1084b1 .cell execution_count=3}\n``` {.python .cell-code}\n#plot \nplt.figure(figsize=(10,6))\nsns.histplot(\n    df,\n    x = \"Time Spent\",\n    hue = \"Group\",\n    kde = True,\n    bins = 30,\n    palette = \"Accent\",\n    alpha = 0.6,\n)\nplt.title(\"Distribution of Time Spent by Group\")\nplt.xlabel(\"Group\")\nplt.ylabel(\"Frequency\")\nplt.legend(title=\"Group\", \n    labels=[\"A (White Background)\", \"B (Black Background)\"], \n    loc='upper left',\n    bbox_to_anchor=(1, 1)\n    )\nplt.grid(False)\nplt.show()\n# fairly similar distribution\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nC:\\Users\\HoraceTsai\\anaconda3\\Lib\\site-packages\\seaborn\\_oldcore.py:1119: FutureWarning:\n\nuse_inf_as_na option is deprecated and will be removed in a future version. Convert inf values to NaN before operating instead.\n\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![](abTest_files/figure-html/cell-4-output-2.png){width=1017 height=523}\n:::\n:::\n\n\n### Hypothesis Testing \n\n::: {#3ac7ddd0 .cell execution_count=4}\n``` {.python .cell-code}\ngroup_A = df[df[\"Group\"] == \"A\"][\"Time Spent\"]\ngroup_B = df[df[\"Group\"] == \"B\"][\"Time Spent\"]\n\nt_stat, p_val = stats.ttest_ind(\n    group_A, \n    group_B,\n    equal_var = False\n    )\n\nprint(t_stat, p_val)\n# small t- stat meaning group a (white) has a slightly higher mean of time spent vs group B\n# however difference between the two gorups is not large compared to the variability of the data\n# therefore no signif diff between background colors \n# changing website background does not meaningfully affect how long users stay\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n-0.4694926489675219 0.6387380383087231\n```\n:::\n:::\n\n\n::: {#d04d13e3 .cell execution_count=5}\n``` {.python .cell-code}\n# Convert Conversion column to binary (Yes = 1, No = 0)\ndf[\"Conversion\"] = df[\"Conversion\"].map({\"Yes\": 1, \"No\": 0})\n```\n:::\n\n\n::: {#ff95bd69 .cell execution_count=6}\n``` {.python .cell-code}\n# Calculate conversion rates for each group\nconversion_rates = df.groupby(\"Group\")[\"Conversion\"].mean().reset_index()\n\n# bar plot for conversion rates\nplt.figure(figsize =(8,5))\nsns.barplot(\n    x = \"Group\",\n    y = \"Conversion\",\n    data = conversion_rates,\n    palette = \"Accent\"\n)\n\n# Add annotations\nfor index, row in conversion_rates.iterrows():\n    plt.text(index, row[\"Conversion\"] + 0.01, f\"{row['Conversion']*100:.2f}%\", ha='center', fontsize=12)\n\n# Formatting the plot\nplt.title(\"Conversion Rate by Group (A vs. B)\")\nplt.xlabel(\"Group\")\nplt.ylabel(\"Conversion Rate\")\nplt.ylim(0, 1)  # Ensuring y-axis goes from 0 to 1 (100% scale)\nplt.grid(axis='y', linestyle='--', alpha=0.7)\n\n# Show the plot\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](abTest_files/figure-html/cell-7-output-1.png){width=663 height=449}\n:::\n:::\n\n\n::: {#c144682c .cell execution_count=7}\n``` {.python .cell-code}\n# Perform a chi-square test for conversion rates\ncontingency_table = pd.crosstab(df[\"Group\"], df[\"Conversion\"])\nchi2_stat, p_value, dof, expected = stats.chi2_contingency(contingency_table)\n\n# Display conversion rates and test results\nchi2_stat, p_value\n```\n\n::: {.cell-output .cell-output-display execution_count=21}\n```\n(106.22812337440538, 6.571736018334222e-25)\n```\n:::\n:::\n\n\n### Results and Visualizations\n\n",
    "supporting": [
      "abTest_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}